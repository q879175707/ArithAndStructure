这是一个面向对象的版本，但是也不太高明，因为需要做的事情还是很多。不方便。